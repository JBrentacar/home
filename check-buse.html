<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ご利用にあたり注意事項</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f9f9f9; color: #333; margin: 0; padding: 20px; box-sizing: border-box; }
    .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    h1 { font-size: 24px; margin-bottom: 16px; }
    .terms { border: 1px solid #ccc; border-radius: 4px; padding: 16px; max-height: 400px; overflow-y: auto; margin-bottom: 20px; background-color: #fafafa; }
    .terms .form-group { margin-bottom: 12px; }
    .terms label { cursor: pointer; }
    .form-group { margin-bottom: 16px; }
    label { display: block; margin-bottom: 8px; font-weight: bold; }
    input[type="checkbox"] { margin-right: 8px; }
    canvas { border: 1px solid #ccc; border-radius: 4px; touch-action: none; }
    button { background-color: #0068e9; color: #fff; border: none; padding: 12px 24px; font-size: 16px; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #0052b4; }
    #clear { background-color: #d9534f; margin-top: 8px; }
    #clear:hover { background-color: #c9302c; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ご利用にあたり注意事項</h1>
    <form id="terms-form" action="https://ssgform.com/s/As8sidpiQhy1" method="POST" onsubmit="prepareSignature()">
      <div class="terms">
        <div class="form-group">
          <label><input type="checkbox" name="term1" required>燃料は満タン貸出・満タン返却です。（配車サービスをご利用の場合、出発時点で満タンとしております。到着時、満タンではない場合はご了承ください。）</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term2" required>走行距離について　1日300km、1週間1000km、14日～30日間3000kmの走行制限があります。超過時は1km10円で追加請求いたします。</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term3" required>賃貸期間2日を超える場合、お客様ご自身での日常点検をお願いします。貸渡期間3カ月以上または、走行距離3000kmに該当の場合、お客様負担でのオイル交換が必須となります。</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term4" required>ご延長の場合、返却予定日の2週間前を目安にご連絡ください。</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term5" required>ペットの同乗、喫煙はご遠慮いただいております。また、社用車使用等による過度な汚れが残っていた場合、いずれも特別清掃料金20000円を頂きます。</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term6" required>事故・故障時には備え付けファイルより保険会社に連絡、ご対応ください。事故発生時、事故現場より警察及び当社への連絡等所定の手続きが取られていない場合、保険補償制度の適用はできません。</label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" name="term7" required>車検時・タイヤ履替時の際には、指定工場（石巻市内）もしくはJBレンタカー石巻店へのご来店が必要となります。</label>
        </div>
      </div>
      <div class="form-group">
        <label>署名 <span style="color:red">*</span></label>
        <canvas id="signature-pad" width="700" height="200"></canvas>
        <button type="button" id="clear">クリア</button>
        <input type="hidden" name="署名" id="signature-data" required>
      </div>
      <button type="submit">送信</button>
    </form>
  </div>
  <script>
    const canvas = document.getElementById('signature-pad');
    const ctx = canvas.getContext('2d');
    let drawing = false;
    let lastX = 0, lastY = 0;

    function drawLine(x, y) {
      ctx.lineTo(x, y);
      ctx.stroke();
    }
    canvas.addEventListener('pointerdown', (e) => {
      drawing = true;
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.beginPath();
      const rect = canvas.getBoundingClientRect();
      lastX = e.clientX - rect.left;
      lastY = e.clientY - rect.top;
      ctx.moveTo(lastX, lastY);
    });
    canvas.addEventListener('pointermove', (e) => {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      drawLine(x, y);
    });
    canvas.addEventListener('pointerup', () => drawing = false);
    canvas.addEventListener('pointerout', () => drawing = false);

    document.getElementById('clear').addEventListener('click', () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    });

    function prepareSignature() {
      const dataURL = canvas.toDataURL();
      document.getElementById('signature-data').value = dataURL;
    }
  </script>
</body>
</html>
